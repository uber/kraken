zap:
  level: info
  development: false
  encoding: console
  disableStacktrace: true
  encoderConfig:
    messageKey: message
    nameKey: logger_name
    levelKey: level
    timeKey: ts
    callerKey: caller
    stacktraceKey: stack
    levelEncoder: capital
    timeEncoder: iso8601
    durationEncoder: seconds
    callerEncoder: short
  outputPaths:
    - stdout
    - /var/log/kraken/kraken-origin/stdout.log
  errorOutputPaths:
    - stdout
    - /var/log/kraken/kraken-origin/stdout.log

# Distributed tracing configuration (Jaeger via OTLP)
tracing:
  enabled: false  # Set to true to enable tracing
  service_name: kraken-origin
  agent_host: localhost  # Jaeger/OTLP collector host
  agent_port: 4318       # OTLP HTTP port (Jaeger supports this natively)
  sampling_rate: 1.0     # Sample 100% for testing (reduce in production)

metainfogen:
  piece_lengths:
    0: 4MB # Use 4MB piece lengths for all file sizes (for now).

peer_id_factory: addr_hash

scheduler:
  log:
    timeEncoder: iso8601
  torrentlog:
    disable: true

localdb:
  source: /var/cache/kraken/kraken-origin/origin.db

castore:
  upload_dir: /var/cache/kraken/kraken-origin/upload/
  cache_dir:  /var/cache/kraken/kraken-origin/cache/
  memory_cache:
    enabled: true
    max_size: 1048576
    ttl: 2s
    drain_workers: 2
    drain_max_retries: 3

blobserver:
  listener:
    net: unix
    addr: /tmp/kraken-origin.sock

nginx:
  name: kraken-origin
  cache_dir: /var/cache/kraken/kraken-origin/nginx/
  log_dir: /var/log/kraken/kraken-origin/
