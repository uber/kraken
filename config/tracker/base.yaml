zap:
  level: info
  development: false
  disableStacktrace: true
  encoding: console
  encoderConfig:
    messageKey: message
    nameKey: logger_name
    levelKey: level
    timeKey: ts
    callerKey: caller
    stacktraceKey: stack
    levelEncoder: capital
    timeEncoder: iso8601
    durationEncoder: seconds
    callerEncoder: short
  outputPaths:
    - stdout
    - /var/log/kraken/kraken-tracker/stdout.log
  errorOutputPaths:
    - stdout
    - /var/log/kraken/kraken-tracker/stdout.log

logging:
  level: info
  stdout: true
  sentry:
    enabled: false
    tags:
      deployment: default

peerhandoutpolicy:
  priority: completeness

metrics:
  m3:
    service: kraken

trackerserver:
  listener:
    net: unix
    addr: /tmp/kraken-tracker.sock
  
  # Timeout configurations (also used by nginx)
  metainfo_timeout: 2m    # nginx proxy_read_timeout for metainfo requests to origins
  announce_timeout: 30s   # nginx proxy_read_timeout for announce operations
  readiness_timeout: 30s  # nginx timeout for health checks
  
  # Rate limiting
  get_metainfo_limit: 1s  # Limits unique metainfo requests per namespace/digest
  announce_limit: 50      # Maximum peers returned on each announce
  announce_interval: 3s   # How often peers should announce

nginx:
  name: kraken-tracker
  cache_dir: /var/cache/kraken/kraken-tracker/nginx/
  log_dir: /var/log/kraken/kraken-tracker/
